# DD重裝腳本

這是一個用於在Linux系統上進行網絡重裝的腳本。

## 版本歷史

### v0.005.000
- 改進基本工具安裝方法，現在在系統安裝完成後進行安裝
- 使用 in-target 命令確保在新系統中正確安裝工具
- 更新了 preseed 和 kickstart 配置以包含基本工具的安裝

### v0.004.000
- 添加自動安裝基本工具（curl、jq、sudo、tar、unzip、wget）的功能

### v0.003.000
- 添加命令行參數支持
- 實現多語言支持（英語和中文）
- 改進系統安裝過程，包括GRUB安裝和網絡配置
- 優化代碼結構和錯誤處理

### v0.002.001
- 區分 Debian 和 Ubuntu 的鏡像源（錯誤修復，向下相容）
- 更新鏡像下載過程以適應不同發行版的目錄結構（錯誤修復，向下相容）

### v0.002.000
- 使用ADD和DEL指令替代傳統的包管理器命令（功能性新增，向下相容）
- 優化網絡配置自動獲取功能（功能性改進，向下相容）
- 改進鏡像下載過程（功能性改進，向下相容）
- 添加基本工具安裝步驟（功能性新增，向下相容）

### v0.001.000
初始版本
- 支持Debian/Ubuntu/CentOS等主流Linux發行版
- 自動檢測並配置網絡
- 可自定義鏡像源
- 支持自定義分區
- 可選擇是否保留數據

### v0.000.001
項目初始化
- 創建基本腳本結構
- 添加顏色定義
- 實現root權限和系統架構檢測

## 功能特點

- 支持Debian/Ubuntu/CentOS等主流Linux發行版
- 自動檢測並配置網絡
- 可自定義鏡像源
- 支持自定義分區
- 可選擇是否保留數據
- 命令行參數支持
- 多語言支持（英語和中文）
- 在新系統中自動安裝基本工具（curl、jq、sudo、tar、unzip、wget）
- 支持UEFI和BIOS系統

## 使用方法

1. 下載腳本:
   ```
   wget https://raw.githubusercontent.com/your-repo/dd.sh
   ```

2. 賦予執行權限:
   ```
   chmod +x dd.sh
   ```

3. 運行腳本:
   ```
   ./dd.sh [選項]
   ```

4. 根據提示進行操作

## 注意事項

- 腳本需要root權限運行
- 重裝過程中會格式化硬盤，請注意數據備份
- 默認root密碼為：password，請及時修改
- 如果重裝失敗，可查看 /var/log/reinstall.log 排查問題
- 安裝完成後，基本工具（curl、jq、sudo、tar、unzip、wget）將自動安裝在新系統中

## 參數說明

- -d, --debian: 指定安裝Debian系統
- -u, --ubuntu: 指定安裝Ubuntu系統  
- -c, --centos: 指定安裝CentOS系統
- --ip-addr: 指定IP地址
- --ip-gate: 指定網關
- --ip-mask: 指定子網掩碼
- -l, --lang: 設置語言 (en/zh)
- -h, --help: 顯示幫助信息

更多參數說明請使用 ./dd.sh -h 查看

## 貢獻

歡迎提交問題和改進建議！

## 授權

本項目採用 GPL-3.0 授權協議。